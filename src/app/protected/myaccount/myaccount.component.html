<top-menu></top-menu>
<div class="wholePage">

    <h1>My Account</h1>

    <div style="display: flex; flex-direction: row;">
        <div class="info">
            <p>Email: {{ user.email }}</p>
            <p>Username: {{ user.username }}</p>
            <p>Name: {{ user.first_name + "  " + user.last_name }}</p>
            <p>Steet Address: {{ user.street_add }}, {{ user.street_add_2 }}</p>
            <p>City: {{ user.city }}, {{ user.state }} {{ user.zipcode }}</p>
            <p>Phone Number: {{ user.phone }}</p><br/>
            <input type="button" value="Change Password" (click)="showChange()" class="button password" />
        </div>

        <div class="myaccount-container">
            <div *ngIf="user">

                <form *ngIf="changePass" (ngSubmit)="updatePassword()" [formGroup]="updatePassForm" >
                    <div class="form-field">
                        <label for="currentPass">Current Password:</label>
                        <input type="password" id="currentPass" formControlName="currentPass">
                    </div>

                    <div class="form-field">
                        <label for="newPass">New Password:</label>
                        <input type="password" id="newPass" formControlName="newPass">
                    </div>

                    <div class="form-field">
                        <label for="comfirmPass">Confirm New Password:</label>
                        <input type="password" id="comfirmPass" formControlName="comfirmPass">
                    </div>

                    <div class="button-container">
                        <input type="submit" [disabled]="!updatePassForm.valid" value="Update" class="button update" />
                        <input type="button" value="Cancel" [routerLink]="['/protected/dashboard']" class="button cancel" />
                    </div>
                </form>









                <form (ngSubmit)="updateUserData()" [formGroup]="updateForm" *ngIf="!changePass" >
                    <div class="form-field">
                        <label for="newEmail">Email:</label>
                        <input type="email" id="newEmail" formControlName="newEmail">
                    </div>
                    <div class="form-field">
                        <label for="newUsername">Username:</label>
                        <input type="text" id="newUsername" formControlName="newUsername">
                    </div>
                    <div class="form-field">
                        <label for="newFirstName">First Name:</label>
                        <input type="text" id="newFirstName" formControlName="newFirstName">
                    </div>
                    <div class="form-field">
                        <label for="newLastName">Last Name:</label>
                        <input type="text" id="newLastName" formControlName="newLastName">
                    </div>
                    <div class="form-field">
                        <label for="newStreetAdd">Street Address:</label>
                        <input type="text" id="newStreetAdd" formControlName="newStreetAdd">
                    </div>
                    <div class="form-field">
                        <label for="newStreetAdd2">Street Address 2:</label>
                        <input type="text" id="newStreetAdd2" formControlName="newStreetAdd2">
                    </div>
                    <div class="form-field">
                        <label for="newCity">City:</label>
                        <input type="text" id="newCity" formControlName="newCity">
                    </div>
                    <div class="form-field">
                        <label for="newState">State:</label>
                        <input type="text" id="newState" formControlName="newState">
                    </div>
                    <div class="form-field">
                        <label for="newZipCode">Zip Code:</label>
                        <input type="text" id="newZipCode" formControlName="newZipCode">
                    </div>
                    <div class="form-field">
                        <label for="newPhone">Phone Number:</label>
                        <input type="text" id="newPhone" formControlName="newPhone">
                    </div>
                    
                    <div class="button-container">
                        <input type="submit" [disabled]="!updateForm.valid" value="Update" class="button update" />
                        <input type="button" value="Cancel" [routerLink]="['/protected/dashboard']" class="button cancel" />
                    </div>
                    
                </form>
            </div>
        </div>
    </div>
</div>